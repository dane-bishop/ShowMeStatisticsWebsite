{% extends 'base.html' %}

{% block title %}{{ team.name }} • ShowMeStatistics{% endblock %}

{% block content %}
<section class="team-layout">
  <div class="team-main">

    
    {% set slug = team.slug if team.slug is defined else (team.site_slug if team.site_slug is defined else '') %}
    {% set current_year = team_year if team_year is defined else 2025 %}
    {% set years = range(2025, 1999, -1) %}
    {% include "partials/team_tabs.html" %}


    <!-- Team Schedule -->
    <div class="calendar-card">
      <div class="calendar-header">{{ team.name }} Schedule</div>
      <div class="calendar-grid">
        {% if events %}
          {% for e in events %}
          <div class="calendar-event">
            <div class="event-date">VS {{ e.opponent_name }}</div>
            <div class="event-title">{{ e.game_date }}</div>
            <div class="event-meta">{{ e.location }} • {{ e.result }}</div>
            <div class="event-meta">{{ e.score_for }} - {{ e.score_against }}</div>
            <div class="event-meta">{{ e.game_time }} • {{ '' if e.game_number is none else e.game_number }}</div>
          </div>
          {% endfor %}
        {% else %}
          <div class="empty-state">No upcoming events found (placeholder)</div>
        {% endif %}
      </div>
    </div>
  </div>



  <!-- Team News-->
  <aside class="team-news">
    <div class="news-header">Latest News</div>
    <ul class="news-list">
      {% for n in news %}
      <li>
        <div class="news-title">{{ n.title }}</div>
        <div class="news-date">{{ n.date }}</div>
      </li>
      {% endfor %}
    </ul>
  </aside>
</section>




{% endblock %}


